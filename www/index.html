<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="apple-touch-icon" sizes="57x57" href="assets/img/favicons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="assets/img/favicons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="assets/img/favicons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="assets/img/favicons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="assets/img/favicons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="assets/img/favicons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="assets/img/favicons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="assets/img/favicons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicons/apple-touch-icon-180x180.png">
        <link rel="icon" type="image/png" href="assets/img/favicons/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="assets/img/favicons/android-chrome-192x192.png" sizes="192x192">
        <link rel="icon" type="image/png" href="assets/img/favicons/favicon-96x96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="assets/img/favicons/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="assets/img/favicons/manifest.json">
        <!--
        <meta name="msapplication-TileColor" content="#2b5797">
        <meta name="msapplication-TileImage" content="assets/img/favicons/mstile-144x144.png">
        <meta name="theme-color" content="#ffffff">
    -->
        <title>NOX</title>

        <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css" type="text/css">
        <link rel="stylesheet" href="bower_components/framework7/dist/css/framework7.ios.min.css" type="text/css">
        <link rel="stylesheet" href="bower_components/swipebox/src/css/swipebox.css" type="text/css">
        <link rel="stylesheet" href="bower_components/owl-carousel/owl-carousel/owl.carousel.css" type="text/css">
        <link rel="stylesheet" href="bower_components/owl-carousel/owl-carousel/owl.theme.css" type="text/css">

        <link rel="stylesheet" href="assets/css/app.css" type="text/css">
        <!--<link rel="stylesheet" href="assets/themes//style.css" id="theme-style">-->

        <style>
            .list-block {
                margin: 5px 0;
            }

            /* CSS FILTRO --------------------------------------------------- */
            .swiper-wrapper {
                margin: 5px;
            }
            .swiper-slide {
                color:#000;
                background: #FFF;
                box-sizing: border-box;
                border: 1px solid #ccc;
            }
            .swiper-slide label {
                text-align:center;
                display:block;
                padding-top: 20px;
                padding-bottom: 100%;
                font-size:16px;
            }
            .swiper-slide label div {
                text-align:center;
                width: 100%;
            }
            .swiper-slide label div.item-inner {
                padding-top: 35px;
            }
            .swiper-container {
                height: 120px;
                margin: 5px;
            }
            .swiper-container label.label-radio input[type=checkbox]:checked~.item-inner, label.label-radio input[type=radio]:checked~.item-inner {
                background-size: 32px;
                background-position: center top;
            }
            .swiper-container label.label-radio input[type=radio]~.item-inner {
                padding-right: 0px;
            }
            
        </style>

    </head>
    <body class="">

        <div class="login-screen ">

          <div class="pages navbar-fixed toolbar-fixed">
              <div data-page="login" class="page">

                  <div class="page-content">

                      <div class="nice-header header-fix-top small">
                          <div class="logo">
                              <h1>NOX</h1>
                              <h2>HTML Responsive Template</h2>
                          </div>
                          <svg class="anim-svg" viewBox="0 0 629 63" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                              <defs></defs>
                              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                                  <g id="Splash" sketch:type="MSArtboardGroup" transform="translate(-60.000000, -749.000000)" fill="#FFFFFF">
                                      <g id="flaga" sketch:type="MSLayerGroup">
                                          <path d="M60.7617187,750.025391 L375.435547,811.568359 L688.558594,749.867188 L60.7617187,750.025391 Z" id="Path-30" sketch:type="MSShapeGroup"></path>
                                      </g>
                                  </g>
                              </g>
                          </svg>
                      </div>

                      <div class="login-view-box mt-50">

                          <div class="list login-form-box">
                              <form id="login-form" class="form nice-label">

                                  <div class="form-row">
                                      <label for="login"><span class="icon-man"></span></label>
                                      <input type="text" name="cpf_cnpj" placeholder="CPF/CNPJ">
                                  </div>
                                  <div class="form-row">
                                      <label for="password"><span class="icon-lock"></span></label>
                                      <input type="password" name="password" placeholder="Senha">
                                  </div>

                                  <a href="#"
                                      class="button button-primary button-fill"
                                      id="login-button">Entrar</a>

                                  <div class="text-right forgot-password">
                                      <a href="#"></a>
                                  </div>

                              </form>
                          </div>

                          <div class="footer-link text-center">
                              <a href="registration.html">
                                  Cadastre-se aqui
                              </a>
                          </div>

                      </div>

                  </div>

              </div>
          </div>

        </div>
        
        <div class="statusbar-overlay"></div>
        <div class="panel-overlay"></div>

        <!-- Left panel -->
        <div class="panel panel-left panel-reveal">
            <div class="line"></div>

            <div class="logo-box mt-10">
                <strong>Saldo Atual</strong>
                <div>R$ 0,00</div>
            </div>

            <div class="list-block mt-15">
                <div class="list-group">
                    <nav>
                        <ul>
                            <li class="divider">
                                Menu
                            </li>
                            <li>
                                <a href="profile.html" class="item-link close-panel item-content">
                                    <div class="item-media">
                                        <i class="fa fa-user"></i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">Perfil</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="cash-out.html" class="item-link close-panel item-content">
                                    <div class="item-media">
                                        <i class="fa fa-money"></i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">Solicitar saque</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="shopping.html" class="item-link close-panel item-content">
                                    <div class="item-media">
                                        <i class="fa fa-"></i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">Compras realizadas</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="invite-friend.html" class="item-link close-panel item-content">
                                    <div class="item-media">
                                        <i class="fa fa-users"></i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">Convidar amigos</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="filter.html" class="item-link close-panel item-content">
                                    <div class="item-media">
                                        <i class="fa fa-filter"></i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">Filtrar</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="item-link close-panel item-content" onclick="logout()">
                                    <div class="item-media">
                                        <i class="fa fa-close"></i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">Sair</div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>

        </div>

        <!-- Right panel -->
        <div class="panel panel-right panel-reveal"></div>

        <!-- Views -->
        <div class="views">
            <div class="view view-main">
                <div class="navbar"></div>
                <div class="pages navbar-fixed toolbar-fixed "></div>
            </div>
        </div>

        <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="bower_components/swipebox/src/js/jquery.swipebox.min.js"></script>
        <script type="text/javascript" src="bower_components/framework7/dist/js/framework7.min.js"></script>
        <script type="text/javascript" src="bower_components/jquery-validation/dist/jquery.validate.min.js"></script>
        <script type="text/javascript" src="bower_components/Tweetie/tweetie.min.js"></script>
        <script type="text/javascript" src="bower_components/chartjs/Chart.js"></script>
        <script type="text/javascript" src="bower_components/scrollAnimate/jquery.scrollAnimate.js"></script>
        <script src="bower_components/owl-carousel/owl-carousel/owl.carousel.min.js"></script>

        <script type="text/javascript" src="assets/js/jflickrfeed.min.js"></script>
        <script type="text/javascript" src="assets/js/min/app.js"></script>
        <script type="text/javascript" src="assets/js/appExt.js"></script>
        <script type="text/javascript" src="assets/js/animations.js"></script>

        <!-- Complementares -->
        <script type="text/javascript" src="assets/js/masked-input/jquery.maskedinput.min.js"></script>
        <script type="text/javascript" src="assets/js/masked-input/jquery.maskMoney.min.js"></script>
        <script type="text/javascript" src="assets/js/global.js"></script>

        <script>

            // mascara de CPF
            // $("input[name='cpf_cnpj']").mask("999.999.999-99").attr('placeholder', 'CPF');

                
            // submit login ----------------------------------------
            $$('#login-button').on('click', function () {
                validateLogin(myApp.formToJSON('#login-form'));
            });


            // callback das paginas ---------------------------------
            // callback: index
            myApp.onPageBeforeInit('index', function (page) {
                validateLogin();
            });
            
            myApp.onPageInit('main', function (page) {
                validateLogin();
                var templateMain = new Template('templateMain');
                $.extend(page.query, {user_auth_key: getUserData().auth_key});
                templateMain.compileAjax('promocao', page.query);
            });


            // callback: registration
            myApp.onPageInit('registration', function (page) {
                // fecha tela de login
                myApp.closeModal();

                // envia form de cadastro de usuario
                $$('#loginCreate-button').on('click', function () {
                    ajaxApi('login-create', myApp.formToJSON('#loginCreate-form'), callbackLoginCreate);
                });

                // callback login create
                var callbackLoginCreate = function(a) {
                    myApp.alert('','Usuário cadastrado!');
                    mainView.router.loadPage('index.html');
                };
            });

            // callback: search
            myApp.onPageInit('search', function (page) {
                validateLogin();

                // Template da pesquisa
                var templateSearch = new Template('templateSearch');

                // realiza pesquisa
                $$('#btn-pesquisa').on('click', function () {
                    var dataPesquisa = $('input#campo-pesquisa').val();
                    if (dataPesquisa) {
                        ajaxApi('search', {param: dataPesquisa}, callbackSearch);
                    }
                });

                // callback da pesquisa
                var callbackSearch = function(a) {
                    templateSearch.compileAndLoadData(a);
                };

            });

            // callback: filter
            myApp.onPageInit('filter', function (page) {
                validateLogin();
                
                // Template da pesquisa
                var templateFilter = new Template('templateFilter');

                // busca categorias
                ajaxApi('filter-category', {}, function(a) {
                    templateFilter.compileAndLoadData(a);
                    
                    // slides
                    myApp.swiper('.swiper-4', {
                      //pagination:'.swiper-4 .swiper-pagination',
                      spaceBetween: 20,
                      slidesPerView: 4
                    });
                });

            });

            // callback: invite-friend
            myApp.onPageInit('invite-friend', function (page) {
                validateLogin();

                // Template do convite de amigo
                var templateInviteFriend = new Template('templateInviteFriend');

                // busca texto do convite + cod
                templateInviteFriend.compileAjax('invite-friend', {user_auth_key: getUserData().auth_key});
                
            });

            // callback: cash-out
            myApp.onPageInit('cash-out', function (page) {
                validateLogin();

                // Template
                var templateCashOut = new Template('templateCashOut');
                
                var callbackCashOut = function (a) {
                    
                    // form de solicitacao de saque
                    var formCashOut = new Form('cashOut-form');
                    
                    // add opcoes de banco
                    formCashOut.addOptionsSelect("CB03_COD_BANCO", a.bancos);
                    
                    // add opcoes de tipo de conta
                    formCashOut.addOptionsSelect("CB03_TP_CONTA", a.tp_conta);
                    
                    // add mascara de moeda (REAL)
                    formCashOut.setMoney(["CB03_VALOR"]);
                    
                    // set attributes
                    if (typeof a.conta_bancaria != "undefined") {
                        formCashOut.setFormData(a.conta_bancaria);
                    }
                    
                    $('a#cashOut-submit').on('click', function () {
                        ajaxCashOut(formCashOut.getFormData());
                    });
                    
                };

                // busca dados da tela de solicitacao de saque
                ajaxCashOut = function (param) { 
                    var param = (param || {});
                    templateCashOut.compileAjax('cash-out', $.extend(param, {user_auth_key: getUserData().auth_key}), callbackCashOut);
                };
                
                ajaxCashOut();
                
            });

            // callback: shopping
            myApp.onPageInit('shopping', function (page) {
                validateLogin();

                // Template
                var templateShopping = new Template('templateShopping');

                // busca dados da tela de compras realizadas
                templateShopping.compileAjax('shopping', {user_auth_key: getUserData().auth_key});

            });

            // callback: profile
            myApp.onPageInit('profile', function (page) {
                validateLogin();

                // Template
                var templateProfile = new Template('templateProfile');

                // busca dados da tela de compras realizadas
                templateProfile.compileAjax('profile', {user_auth_key: getUserData().auth_key});

            });

            // -------------------------------------------------------

            mainView.router.loadPage('main.html');
            
        </script>

    </body>
</html>


